# ERP 系统功能模块说明

## 📋 已完成功能

### 1. **客户管理** (`/customer`)
- ✅ 客户列表展示（表格视图）
- ✅ 新增/编辑客户信息
- ✅ 客户状态管理（线索→量房→报价→签约→完工）
- ✅ 删除客户功能
- ✅ API 完整封装

### 2. **订单管理** (`/order`)
- ✅ 订单列表展示
- ✅ 订单状态管理（草稿→签约→施工中→完工→取消）
- ✅ 订单金额统计（总金额、已收金额、成本金额）
- ✅ 订单关联客户
- ✅ API 完整封装

### 3. **项目管理** (`/project`)
- ✅ 项目列表展示
- ✅ 项目状态管理（规划中→施工中→暂停→完工）
- ✅ 项目地址、工长信息
- ✅ 项目关联订单
- ✅ API 完整封装

### 4. **财务管理** (`/finance`)
- ✅ 收款记录列表
- ✅ 收款类型（定金、合同款、设计费、增项款）
- ✅ 收款状态（待确认、已确认、已取消）
- ✅ 收款金额统计
- ✅ API 完整封装

### 5. **物料管理** (`/material`)
- ✅ 物料列表展示
- ✅ 物料分类（主材、人工）
- ✅ 价格管理（成本价、销售价）
- ✅ 品牌、规格、单位管理
- ✅ API 完整封装

### 6. **公司管理** (`/data/company`)
- ✅ 公司列表展示
- ✅ 公司基本信息（名称、联系人、电话、地址）
- ✅ 公司状态管理
- ✅ API 完整封装

### 7. **字典管理** (`/data/dict`)
- ✅ 字典列表展示
- ✅ 字典类型、编码、值管理
- ✅ 排序功能
- ✅ API 完整封装

### 8. **代码流程管理** (`/data/codeflow`)
- ✅ 代码流程列表
- ✅ 完整的 CRUD 功能
- ✅ 代码模板复制
- ✅ 缓存清理功能

### 9. **系统功能** (`/system`)
- ✅ Access Secret 管理
- ✅ 卡片式功能导航
- ✅ 一键复制密钥

### 10. **个人中心** (`/profile`)
- ✅ 用户基本信息展示
- ✅ 角色、状态标签
- ✅ 时间信息展示

### 11. **认证系统**
- ✅ 登录/登出功能
- ✅ JWT Token 管理
- ✅ 路由守卫（AuthGuard）
- ✅ 权限控制

### 12. **工作台** (`/`)
- ✅ 业务数据统计卡片
- ✅ 快速导航入口
- ✅ 系统介绍

---

## 🏗️ 技术架构

### **前端技术栈**
- React 18 + TypeScript
- Vite 5
- Ant Design 5
- React Router 6
- Axios
- Less + CSS Modules
- Day.js

### **项目结构**
```
packages/main/src/
├── api/                    # API 接口层
│   ├── auth.ts            # 认证
│   ├── customer.ts        # 客户
│   ├── order.ts           # 订单
│   ├── project.ts         # 项目
│   ├── material.ts        # 物料
│   ├── payment.ts         # 财务
│   ├── company.ts         # 公司
│   ├── dict.ts            # 字典
│   ├── codeflow.ts        # 代码流程
│   ├── system.ts          # 系统
│   └── request.ts         # HTTP 工具
├── components/            # 全局组件
│   ├── Layout/           # 布局组件
│   ├── AuthGuard.tsx     # 路由守卫
│   └── ListPage.tsx      # 通用列表组件
├── features/             # 功能模块
│   ├── auth/            # 登录
│   ├── dashboard/       # 工作台
│   ├── profile/         # 个人中心
│   ├── customer/        # 客户管理
│   ├── order/           # 订单管理
│   ├── project/         # 项目管理
│   ├── material/        # 物料管理
│   ├── finance/         # 财务管理
│   ├── company/         # 公司管理
│   ├── dict/            # 字典管理
│   ├── codeflow/        # 代码流程
│   └── system/          # 系统功能
├── router/              # 路由配置
├── styles/              # 全局样式
├── utils/               # 工具函数
└── App.tsx
```

---

## 🔗 业务关联逻辑

### **核心业务流程**
```
客户管理 → 订单管理 → 项目管理 → 财务管理
   ↓          ↓          ↓          ↓
线索→签约   草稿→完工   规划→完工   收款记录
```

### **数据关联关系**
- 客户 ← 订单（一对多）
- 订单 ← 项目（一对多）
- 订单 ← 收款记录（一对多）
- 订单 ← 物料明细（一对多）

---

## 🎯 后续开发建议

### **短期优化**
1. 完善新增/编辑弹窗功能
2. 添加详情页面
3. 实现搜索/筛选功能
4. 添加数据统计图表

### **中期优化**
1. 添加订单详情（物料明细）
2. 实现客户跟进记录
3. 项目进度管理
4. 报表导出功能

### **长期优化**
1. 数据看板
2. 权限管理系统
3. 消息通知
4. 移动端适配

---

## 📝 注意事项

1. **API 接口**: 所有 API 已定义，需要后端实现对应接口
2. **权限控制**: 当前仅有基础认证，需根据角色完善权限
3. **数据验证**: 表单验证已基本完成，可根据业务需求调整
4. **样式优化**: 已采用简洁风格，后续可根据需求调整

---

## 🚀 快速开始

### **开发环境**
```bash
# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev:main

# 访问地址
http://localhost:3100
```

### **测试账号**
- 用户名: admin
- 密码: (根据后端配置)

---

## 📞 技术支持

如需帮助或有问题，请联系开发团队。

